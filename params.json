{"name":"jQuery Heart Beater","tagline":"","body":"# jQuery Heart Beater & User Activity Checker\r\nHeart Beater & User Activity Checker are jQuery plugins to help you perform some regularly occuring stuff. Ie. regularly checking server for updates.\r\n\r\n## Heart Beater\r\nTriggers \"heartBeat\" event on given interval. It supports few config options to make your life easier.\r\n\r\n### Factory function $.createHeartBeater([options[, userActivityChecker]]);\r\nFor quick and easy creation of the Heart Beater object you can use the factory function which will take care of any missing parameters. Factory accepts two optional parameters:\r\n* **options** object to override defaults\r\n* **userActivityChecker** an instance of $.Acheta.UserActivityChecker. See User Activity Checker below for details.\r\n\r\n#### Example use\r\nUsing smart factory function to instantiate object with minimum effort.\r\n```JavaScript\r\n// Create HeartBeater object.\r\nvar hb = $.createHeartBeater();\r\n\r\n// Listen for the heartBeat event to perform your stuff.\r\n$(hb).on('heartBeat', function(){\r\n  // Check something with server and update it on page.\r\n  $('body').append('heartBeat triggered ');\r\n});\r\n```\r\n\r\n```JavaScript\r\n// Create HeartBeater object with custom options.\r\nvar hb = $.createHeartBeater({\r\n             heartBeatInterval: 1000,\r\n             checkUserActivity: true,\r\n             checkUserActivityInterval: 200,\r\n             limit: 153,\r\n             autoStart: false\r\n         });\r\n\r\n// Listen for the heartBeat event to perform your stuff.\r\n$(hb).on('heartBeat', function(){ doStuff(); });\r\n```\r\n\r\n### Heart Beater Options\r\nYou can pass custom options object to the factory.\r\n```JavaScript\r\n// Defaults.\r\n{\r\n  heartBeatInterval: 2000, // Interval of beating in milliseconds.\r\n  checkUserActivity: false,  // Whether to be dependent on user's activity/focus in the document.\r\n  checkUserActivityInterval: 500, // How often to evaluate user's activity.\r\n  limit: 0, // Set number of beats to be performed.\r\n  autoStart: true // Start beating immediately after object was instantiated. \r\n};\r\n```\r\n#### Option: heartBeatInterval\r\nInterval of beating in milliseconds.\r\n**Default:** 2000 (2 seconds)\r\n**Type:** integer > 0\r\n\r\n#### Option: checkUserActivity\r\nWhether to be dependent on user's activity/focus in the document. Set it to true if you want to pause heart beating when user doesn't work with the page. This option is handy when you don't want to waste server resources when user is not present.\r\n**Default:** false\r\n**Type:** boolean\r\n\r\n#### Option: checkUserActivityInterval\r\nWhen checkUserActivity option is true this determines how often to evaluate user's activity. Interval of checking in milliseconds.\r\n**Default:** 500 (0.5 second)\r\n**Type:** integer > 0\r\n\r\n#### Option: limit\r\nDefine limited number of beats to be performed. Beating is stopped when limit is reached. Set 0 for no limit.\r\n**Default:** 0 (no limit applied)\r\n**Type:** integer >= 0\r\n\r\n#### Option: autoStart\r\nBy default beating starts immediately when hear beater object is instantiated. In some cases you want to have this under control. Then set autoStart to false and when you want start beating call start() method.\r\n**Default:** true\r\n**Type:** boolean\r\n\r\n### Heart Beater Methods\r\n#### Method: start()\r\nStart heart beating. Triggers 'heartBeatStarted' event.\r\n\r\n#### Method: pause()\r\nPause heart beating. Triggers 'heartBeatPaused' event.\r\n\r\n#### Method: getStatus()\r\nReturns current status. \r\n```JavaScript\r\n// Status constants.\r\n$.Acheta.HeartBeater.STATUS_RUNNING       = 'running';\r\n$.Acheta.HeartBeater.STATUS_PAUSED        = 'paused';\r\n$.Acheta.HeartBeater.STATUS_INACTIVE      = 'inactive';\r\n$.Acheta.HeartBeater.STATUS_LIMIT_REACHED = 'limit_reached';\r\n```\r\n\r\n#### Method: setLimit(limit)\r\nSet new limit of beats to be performed. Set to 0 to disable limit.\r\n\r\n#### Method: getHeartBeatsCount()\r\nGet number of beats performed.\r\n\r\n#### Method: getHeartBeatsRemaining()\r\nGet number of beats remaining from the limit. Returns false when limit not applied.\r\n\r\n### Heart Beater Events\r\nYou can listen for the following events triggered by heart beater object.\r\n```JavaScript\r\n// Event constants.\r\n// When regular beat is performed.\r\n$.Acheta.HeartBeater.EVENT_HEARTBEAT = 'heartBeat';\r\n\r\n// When beating started.\r\n$.Acheta.HeartBeater.EVENT_HEARTBEAT_STARTED = 'heartBeatStarted';\r\n\r\n// When beating was paused.\r\n$.Acheta.HeartBeater.EVENT_HEARTBEAT_PAUSED = 'heartBeatPaused';\r\n\r\n// When limit of beats has been reached.\r\n$.Acheta.HeartBeater.EVENT_HEARTBEAT_LIMIT_REACHED = 'heartBeatLimitReached';\r\n```\r\nAlso it is passing events from the User Activity Checker.\r\n```JavaScript\r\n// When user became active.\r\n$.Acheta.UserActivityChecker.EVENT_USER_BECAME_ACTIVE   = 'userBecameActive';\r\n\r\n// When user became inactive.\r\n$.Acheta.UserActivityChecker.EVENT_USER_BECAME_INACTIVE = 'userBecameInactive';\r\n```\r\n\r\n## User Activity Checker\r\nUser Activity Checker is helper used by heart beater to detect user's activity in the document. It can be used independently or it can be replaced by your own implementation. It's main purpose is to regularly check if document has focus and based on that trigger and event when user became active or inactive.\r\n\r\n### Factory function $.createUserActivityChecker(checkInterval[, document])\r\nFor quick and easy creation of the UserActivityChecker object you can use this factory method with two arguments:\r\n* **checkInterval** in milliseconds, integer greater than zero\r\n* **document** object, if ommited the factory will pass the global document object. You can substitute with your own implementation of document to determine user activity. The document object must have hasFocus() function returning true/false.\r\n\r\n#### Example use\r\nUsing smart factory function to instantiate object with minimum effort.\r\n```JavaScript\r\n// Create UserActivityChecker object which will be monitoring the activity every 200 milliseconds.\r\nvar checker = $.createUserActivityChecker(200);\r\n\r\n// Listen for the events.\r\n$(checker).on('userBecameActive', function(){\r\n  alert('User started working with the document.');\r\n});\r\n\r\n$(checker).on('userBecameInactive', function(){\r\n  alert('User stopped working with the document.');\r\n});\r\n\r\n// Don't forget to start the checker.\r\nchecker.startChecking();\r\n```\r\n### User Activity Checker Methods\r\n#### Method: setInterval()\r\nSet/Change interval of checking in milliseconds. Chainable.\r\n\r\n#### Method: startChecking()\r\nStart monitoring the user's activity. Chainable.\r\n\r\n#### Method: stopChecking()\r\nStart monitoring the user's activity. Chainable.\r\n\r\n#### Method: isChecking()\r\nReturns true when checking. False when stopped.\r\n\r\n#### Method: isUserActive()\r\nInstant re-check of user's activity. Returns true/false.\r\n\r\n### User Activity Checker Events\r\nYou can listen for the following events triggered by the checker object.\r\n```JavaScript\r\n// When user became active.\r\n$.Acheta.UserActivityChecker.EVENT_USER_BECAME_ACTIVE   = 'userBecameActive';\r\n\r\n// When user became inactive.\r\n$.Acheta.UserActivityChecker.EVENT_USER_BECAME_INACTIVE = 'userBecameInactive';\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}